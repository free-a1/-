# IdentiFace - 智能人脸分析工具

![应用图标](assets/Icons/favicon-black.png)

一款基于深度学习的人脸特征分析工具，支持图片/视频模式识别，提供脸型、性别、表情预测功能，集成用户权限管理和操作审计系统。

## 📌 主要功能

- **双模式识别**
  - 📷 照片模式：上传本地图片进行分析
  - 🎥 视频模式：实时摄像头捕捉人脸
- **核心检测能力**
  - 🔵 脸型分类：椭圆/圆脸/方脸/心形脸/长脸
  - 👫 性别识别：男/女分类
  - 😀 表情分析：高兴/生气/惊讶/悲伤/中性
- **管理系统**
  - 👨💻 管理员面板：用户权限管理/数据库维护
  - 📊 审计日志：记录所有用户操作
  - 📥 数据导出：CSV/TXT格式结果保存
- **用户体验**
  - 🎨 现代化UI界面
  - 📱 响应式布局
  - ⚡ 异步模型加载

## 🛠️ 安装指南

### 环境要求
- Python 3.8+
- Windows 10+/macOS 10.15+/Linux (Ubuntu 20.04+)
- 推荐配置：4GB显存GPU（非必须，CPU可运行）

### 打包版本 (Windows)
下载最新发布的 IdentiFace_Windows.zip
解压后运行可执行文件：
```commandline
cd dist/IdentiFace
IdentiFace.exe
```
首次使用

注册新用户账号：通过登录界面完成基础注册

默认权限：新用户自动设为普通用户

管理员权限：需通过数据库手动配置（见下方系统配置说明）

### 系统配置
管理员权限设置

使用 SQLite 工具（如 DB Browser for SQLite）打开 users.db

执行权限升级命令：

```commandline
UPDATE users SET is_admin = 1 WHERE username = '你的用户名';
```

配置文件调整

编辑 config.ini 文件（首次运行后自动生成）：

```commandline
[System]
prediction_interval = 150  # 视频模式检测帧间隔（单位：帧）
max_login_attempts = 5     # 最大登录尝试次数
enable_audit = true        # 启用操作审计功能
session_timeout = 30       # 会话超时时间（分钟）
```

### 📖 使用手册
照片模式操作指南

上传图片

点击"上传图片"按钮选择 JPG/PNG 文件

支持分辨率范围：300×400 至 3840×2160

特征检测

等待自动完成人脸对齐预处理（约 2-5 秒）

按顺序点击预测按钮：
🔘 脸型预测 → 🔘 性别预测 → 🔘 表情预测

结果导出

点击 📥 图标保存结果（默认格式：识别结果_时间戳.csv）

视频模式操作指南
实时检测

点击"选择视频"启动摄像头（需授权访问权限）

推荐检测距离：50-80cm（面部占比画面 60%）



